<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:prism="http://prismlibrary.com"
             xmlns:controls="clr-namespace:MapNotepad.Control"
             prism:ViewModelLocator.AutowireViewModel="True"
             x:Class="MapNotepad.Views.MapPage"
             x:Name="_this"
             Title="Map"
             BackgroundColor="GhostWhite">
    <StackLayout>
        <SearchBar Placeholder="Pin name or..."
                   BackgroundColor="GhostWhite"
                   Margin="0,0,0,0"
                   TextColor="Black"
                   Text="{Binding SearchBarText}">

            <SearchBar.Behaviors>
                <prism:EventToCommandBehavior EventName="TextChanged" 
                                              Command="{Binding UserSearching}"/>
                
            </SearchBar.Behaviors>
        </SearchBar>

        <controls:CustomMap Margin="0,0,0,0" 
                            PinsSource="{Binding PinsCollection}" 
                            FocusedPin="{Binding MyFocusedPin}"
                            BackgroundColor="GhostWhite"/>

    </StackLayout>
</ContentPage>